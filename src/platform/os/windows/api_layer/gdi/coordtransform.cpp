// Copyright Querysoft Limited 2008 - 2025
//
// Permission is hereby granted, free of charge, to any person or organization
// obtaining a copy of the software and accompanying documentation covered by
// this license (the "Software") to use, reproduce, display, distribute,
// execute, and transmit the Software, and to prepare derivative works of the
// Software, and to permit third-parties to whom the Software is furnished to
// do so, all subject to the following:
// 
// The copyright notices in the Software and this entire statement, including
// the above license grant, this restriction and the following disclaimer,
// must be included in all copies of the Software, in whole or in part, and
// all derivative works of the Software, unless such copies or derivative
// works are solely in the form of machine-executable object code generated by
// a source language processor.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
// SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
// FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
// ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
// DEALINGS IN THE SOFTWARE.

#include "src/configuration/configuration.h"
#include "src/qor/module/module.h"
#include "src/qor/interception/functioncontext.h"
#include "src/qor/error/error.h"
#include "src/platform/os/windows/common/structures.h"

//Windows specific headers must be last to prevent contaminating generic headers with Windows specific types and definitions
#include "gdi32.h"
#include "../returncheck.h"
#include "../library.h"

namespace qor { namespace nswindows { namespace api {

    BOOL GDI32::CombineTransform(::LPXFORM lpxformResult, CONST::XFORM* lpxform1, CONST::XFORM* lpxform2)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, CombineTransform);
        return Library::Call< BOOL, ::LPXFORM, CONST ::XFORM*, CONST XFORM* >(pFunc, lpxformResult, lpxform1, lpxform2);
    }

    BOOL GDI32::DPtoLP(HDC hdc, ::LPPOINT lpPoints, int nCount)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, DPtoLP);
        return Library::Call< BOOL, HDC, ::LPPOINT, int >(pFunc, hdc, lpPoints, nCount);
    }

    BOOL GDI32::GetCurrentPositionEx(HDC hdc, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetCurrentPositionEx);
        return Library::Call< BOOL, HDC, ::LPPOINT >(pFunc, hdc, lpPoint);
    }

    int GDI32::GetGraphicsMode(HDC hdc)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetGraphicsMode);
        return Library::Call< int, HDC >(pFunc, hdc);
    }

    int GDI32::GetMapMode(HDC hdc)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetMapMode);
        return Library::Call< int, HDC >(pFunc, hdc);
    }

    BOOL GDI32::GetViewportExtEx(HDC hdc, ::LPSIZE lpSize)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetViewportExtEx);
        return Library::Call< BOOL, HDC, ::LPSIZE >(pFunc, hdc, lpSize);
    }

    BOOL GDI32::GetViewportOrgEx(HDC hdc, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetViewportOrgEx);
        return Library::Call< BOOL, HDC, ::LPPOINT >(pFunc, hdc, lpPoint);
    }

    BOOL GDI32::GetWindowExtEx(HDC hdc, ::LPSIZE lpSize)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetWindowExtEx);
        return Library::Call< BOOL, HDC, ::LPSIZE >(pFunc, hdc, lpSize);
    }

    BOOL GDI32::GetWindowOrgEx(HDC hdc, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetWindowOrgEx);
        return Library::Call< BOOL, HDC, ::LPPOINT >(pFunc, hdc, lpPoint);
    }

    BOOL GDI32::GetWorldTransform(HDC hdc, ::LPXFORM lpXform)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, GetWorldTransform);
        return Library::Call< BOOL, HDC, ::LPXFORM >(pFunc, hdc, lpXform);
    }

    BOOL GDI32::LPtoDP(HDC hdc, ::LPPOINT lpPoints, int nCount)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, LPtoDP);
        return Library::Call< BOOL, HDC, ::LPPOINT, int >(pFunc, hdc, lpPoints, nCount);
    }

    BOOL GDI32::ModifyWorldTransform(HDC hdc, CONST::XFORM* lpXform, DWORD iMode)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, ModifyWorldTransform);
        return Library::Call< BOOL, HDC, CONST ::XFORM*, DWORD >(pFunc, hdc, lpXform, iMode);
    }

    BOOL GDI32::OffsetViewportOrgEx(HDC hdc, int nXOffset, int nYOffset, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, OffsetViewportOrgEx);
        return Library::Call< BOOL, HDC, int, int, ::LPPOINT >(pFunc, hdc, nXOffset, nYOffset, lpPoint);
    }

    BOOL GDI32::OffsetWindowOrgEx(HDC hdc, int nXOffset, int nYOffset, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, OffsetWindowOrgEx);
        return Library::Call< BOOL, HDC, int, int, ::LPPOINT >(pFunc, hdc, nXOffset, nYOffset, lpPoint);
    }

    BOOL GDI32::ScaleViewportExtEx(HDC hdc, int Xnum, int Xdenom, int Ynum, int Ydenom, ::LPSIZE lpSize)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, ScaleViewportExtEx);
        return Library::Call< BOOL, HDC, int, int, int, int, ::LPSIZE >(pFunc, hdc, Xnum, Xdenom, Ynum, Ydenom, lpSize);
    }

    BOOL GDI32::ScaleWindowExtEx(HDC hdc, int Xnum, int Xdenom, int Ynum, int Ydenom, ::LPSIZE lpSize)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, ScaleWindowExtEx);
        return Library::Call< BOOL, HDC, int, int, int, int, ::LPSIZE >(pFunc, hdc, Xnum, Xdenom, Ynum, Ydenom, lpSize);
    }

    int GDI32::SetGraphicsMode(HDC hdc, int iMode)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetGraphicsMode);
        return Library::Call< int, HDC, int >(pFunc, hdc, iMode);
    }

    int GDI32::SetMapMode(HDC hdc, int fnMapMode)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetMapMode);
        return Library::Call< int, HDC, int >(pFunc, hdc, fnMapMode);
    }

    BOOL GDI32::SetViewportExtEx(HDC hdc, int nXExtent, int nYExtent, ::LPSIZE lpSize)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetViewportExtEx);
        return Library::Call< BOOL, HDC, int, int, ::LPSIZE >(pFunc, hdc, nXExtent, nYExtent, lpSize);
    }

    BOOL GDI32::SetViewportOrgEx(HDC hdc, int X, int Y, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetViewportOrgEx);
        return Library::Call< BOOL, HDC, int, int, ::LPPOINT >(pFunc, hdc, X, Y, lpPoint);
    }

    BOOL GDI32::SetWindowExtEx(HDC hdc, int nXExtent, int nYExtent, ::LPSIZE lpSize)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetWindowExtEx);
        return Library::Call< BOOL, HDC, int, int, ::LPSIZE >(pFunc, hdc, nXExtent, nYExtent, lpSize);
    }

    BOOL GDI32::SetWindowOrgEx(HDC hdc, int X, int Y, ::LPPOINT lpPoint)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetWindowOrgEx);
        return Library::Call< BOOL, HDC, int, int, ::LPPOINT >(pFunc, hdc, X, Y, lpPoint);
    }

    BOOL GDI32::SetWorldTransform(HDC hdc, CONST::XFORM* lpXform)
    {
        qor_pp_fcontext;
        qor_pp_useswinapi(gdi32, SetWorldTransform);
        return Library::Call< BOOL, HDC, CONST ::XFORM* >(pFunc, hdc, lpXform);
    }

}}}//qor::nswindows::api